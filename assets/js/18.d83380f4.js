(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{465:function(a,t,s){"use strict";s.r(t);var e=s(6),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"快速上手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[a._v("#")]),a._v(" 快速上手")]),a._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("h3",{attrs:{id:"添加-jitpack-仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加-jitpack-仓库"}},[a._v("#")]),a._v(" 添加 JitPack 仓库")]),a._v(" "),s("h4",{attrs:{id:"将-jitpack-存储库添加到您的构建文件中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将-jitpack-存储库添加到您的构建文件中"}},[a._v("#")]),a._v(" 将 JitPack 存储库添加到您的构建文件中")]),a._v(" "),s("div",{staticClass:"language-groovy line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[a._v("allprojects "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    repositories "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("...")]),a._v("\n        maven "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" url "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'https://jitpack.io'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h3",{attrs:{id:"添加依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加依赖"}},[a._v("#")]),a._v(" 添加依赖")]),a._v(" "),s("h4",{attrs:{id:"国内仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#国内仓库"}},[a._v("#")]),a._v(" 国内仓库")]),a._v(" "),s("div",{staticClass:"language-groovy line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[a._v("dependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    implementation "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'com.gitee.Shanya:SerialPortSample:4.1.1'")]),a._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h4",{attrs:{id:"国外仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#国外仓库"}},[a._v("#")]),a._v(" 国外仓库")]),a._v(" "),s("div",{staticClass:"language-groovy line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[a._v("dependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    implementation "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'com.github.Shanyaliux:SerialPortSample:4.1.1'")]),a._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[a._v("以上两个依赖根据自身情况二选一即可")])]),a._v(" "),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),s("h3",{attrs:{id:"构建serialport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建serialport"}},[a._v("#")]),a._v(" 构建SerialPort")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Kotlin"}},[s("div",{staticClass:"language-Kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" serialPort "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" SerialPortBuilder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("以上方法仅仅是构建了一个最简单的 "),s("code",[a._v("SerialPort")]),a._v(" 实例，它拥有着以下方法：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("openDiscoveryActivity()")]),a._v(" 打开内置搜索页面")]),a._v(" "),s("li",[s("code",[a._v("openDiscoveryActivity(intent: Intent)")]),a._v(" 打开自定义搜索页面")]),a._v(" "),s("li",[s("code",[a._v("setReadDataType(type: Int)")]),a._v(" 设置接收数据格式")]),a._v(" "),s("li",[s("code",[a._v("setSendDataType(type: Int)")]),a._v(" 设置发送数据格式")]),a._v(" "),s("li",[s("code",[a._v("connectLegacyDevice(address: String)")]),a._v(" 连接传统蓝牙设备")]),a._v(" "),s("li",[s("code",[a._v("connectBle(address: String)")]),a._v(" 连接BLE蓝牙设备")]),a._v(" "),s("li",[s("code",[a._v("connectDevice(address: String)")]),a._v(" 连接设备")]),a._v(" "),s("li",[s("code",[a._v("disconnect()")]),a._v(" 断开连接")]),a._v(" "),s("li",[s("code",[a._v("setReceivedDataCallback(receivedDataCallback: ReceivedDataCallback)")]),a._v(" 收到消息回调")]),a._v(" "),s("li",[s("code",[a._v("setDiscoveryStatusWithTypeCallback(discoveryStatusWithTypeCallback: DiscoveryStatusWithTypeCallback)")]),a._v(" 带设备类型的搜索状态回调")]),a._v(" "),s("li",[s("code",[a._v("setDiscoveryStatusCallback(discoveryStatusCallback: DiscoveryStatusCallback)")]),a._v(" 搜索状态回调")]),a._v(" "),s("li",[s("code",[a._v("setConnectionStatusCallback(connectionStatusCallback: ConnectionStatusCallback)")]),a._v(" 连接状态回调")]),a._v(" "),s("li",[s("code",[a._v("setConnectionResultCallback(connectionResultCallback: ConnectionResultCallback)")]),a._v(" 连接结果回调")]),a._v(" "),s("li",[s("code",[a._v("printPossibleBleUUID()")]),a._v(" 打印可能BLE设备UUID")]),a._v(" "),s("li",[s("code",[a._v("sendData(data: String)")]),a._v(" 发送数据")]),a._v(" "),s("li",[s("code",[a._v("hexStringToString(hexString: String)")]),a._v(" 十六进制的字符串转换为传统的字符串")]),a._v(" "),s("li",[s("code",[a._v("getPairedDevicesListBD()")]),a._v(" 获取已配对设备列表")]),a._v(" "),s("li",[s("code",[a._v("getUnPairedDevicesListBD()")]),a._v(" 获取未配对设备列表")]),a._v(" "),s("li",[s("code",[a._v("doDiscovery(context: Context)")]),a._v(" 搜索设备")]),a._v(" "),s("li",[s("code",[a._v("cancelDiscovery(context: Context)")]),a._v(" 取消搜索")])])]),a._v(" "),s("Tab",{attrs:{label:"Java"}},[s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SerialPort")]),a._v(" serialPort "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SerialPortBuilder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("INSTANCE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("以上方法仅仅是构建了一个最简单的 "),s("code",[a._v("SerialPort")]),a._v(" 实例，它拥有着以下方法：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("openDiscoveryActivity()")]),a._v(" 打开内置搜索页面")]),a._v(" "),s("li",[s("code",[a._v("openDiscoveryActivity(Intent intent)")]),a._v(" 打开自定义搜索页面")]),a._v(" "),s("li",[s("code",[a._v("setReadDataType(Int type)")]),a._v(" 设置接收数据格式")]),a._v(" "),s("li",[s("code",[a._v("setSendDataType(Int type)")]),a._v(" 设置发送数据格式")]),a._v(" "),s("li",[s("code",[a._v("connectLegacyDevice(String address)")]),a._v(" 连接传统蓝牙设备")]),a._v(" "),s("li",[s("code",[a._v("connectBle(String address)")]),a._v(" 连接BLE蓝牙设备")]),a._v(" "),s("li",[s("code",[a._v("connectDevice(String address)")]),a._v(" 连接设备")]),a._v(" "),s("li",[s("code",[a._v("disconnect()")]),a._v(" 断开连接")]),a._v(" "),s("li",[s("code",[a._v("setReceivedDataCallback(ReceivedDataCallback receivedDataCallback)")]),a._v(" 收到消息回调")]),a._v(" "),s("li",[s("code",[a._v("setDiscoveryStatusWithTypeCallback(DiscoveryStatusWithTypeCallback discoveryStatusWithTypeCallback)")]),a._v(" 带设备类型的搜索状态回调")]),a._v(" "),s("li",[s("code",[a._v("setDiscoveryStatusCallback(DiscoveryStatusCallback discoveryStatusCallback)")]),a._v(" 搜索状态回调")]),a._v(" "),s("li",[s("code",[a._v("setConnectionStatusCallback(ConnectionStatusCallback connectionStatusCallback)")]),a._v(" 连接状态回调")]),a._v(" "),s("li",[s("code",[a._v("setConnectionResultCallback(ConnectionResultCallback connectionResultCallback)")]),a._v(" 连接结果回调")]),a._v(" "),s("li",[s("code",[a._v("printPossibleBleUUID()")]),a._v(" 打印可能BLE设备UUID")]),a._v(" "),s("li",[s("code",[a._v("sendData(String data)")]),a._v(" 发送数据")]),a._v(" "),s("li",[s("code",[a._v("hexStringToString(String hexString)")]),a._v(" 十六进制的字符串转换为传统的字符串")]),a._v(" "),s("li",[s("code",[a._v("getPairedDevicesListBD()")]),a._v(" 获取已配对设备列表")]),a._v(" "),s("li",[s("code",[a._v("getUnPairedDevicesListBD()")]),a._v(" 获取未配对设备列表")]),a._v(" "),s("li",[s("code",[a._v("doDiscovery(Context context)")]),a._v(" 搜索设备")]),a._v(" "),s("li",[s("code",[a._v("cancelDiscovery(Context context)")]),a._v(" 取消搜索")])])])],1),a._v(" "),s("h3",{attrs:{id:"搜索设备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索设备"}},[a._v("#")]),a._v(" 搜索设备")]),a._v(" "),s("p",[a._v("使用方法 "),s("code",[a._v("doDiscovery(context)")]),a._v(" 搜索设备：")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Kotlin"}},[s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("doDiscovery")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Java"}},[s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("doDiscovery")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])],1),a._v(" "),s("p",[a._v("使用方法 "),s("code",[a._v("getPairedDevicesListBD()")]),a._v(" 和 "),s("code",[a._v("getUnPairedDevicesListBD()")]),a._v(" 获取搜索结果：")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Kotlin"}},[s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getPairedDevicesListBD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//获取已配对设备列表")]),a._v("\nserialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getUnPairedDevicesListBD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//获取未配对设备列表")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Java"}},[s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getPairedDevicesListBD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//获取已配对设备列表")]),a._v("\nserialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getUnPairedDevicesListBD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//获取未配对设备列表")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])])],1),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),s("p",[a._v("如果搜索未结束，则可能获取的未配对设备列表为空或者不全。")])]),a._v(" "),s("h3",{attrs:{id:"连接设备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接设备"}},[a._v("#")]),a._v(" 连接设备")]),a._v(" "),s("p",[a._v("想要成功的连接设备，并且完成通信，设置正确的UUID是必不可少的一步。")]),a._v(" "),s("h4",{attrs:{id:"设置传统设备uuid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置传统设备uuid"}},[a._v("#")]),a._v(" 设置传统设备UUID")]),a._v(" "),s("p",[a._v("使用 "),s("code",[a._v("SerialPort")]),a._v(" 的静态方法 "),s("code",[a._v("setLegacyUUID(uuid)")]),a._v(" 设置传统设备的UUID：")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Kotlin"}},[s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[a._v("SerialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setLegacyUUID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"00001101-0000-1000-8000-00805F9B34FB"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Java"}},[s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SerialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Companion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setLegacyUUID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"00001101-0000-1000-8000-00805F9B34FB"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])],1),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),s("p",[a._v("传统设备"),s("strong",[a._v("一般")]),a._v("情况下，可以不用设置UUID，使用默认的即可。")])]),a._v(" "),s("h4",{attrs:{id:"设置ble设备uuid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置ble设备uuid"}},[a._v("#")]),a._v(" 设置BLE设备UUID")]),a._v(" "),s("p",[a._v("使用 "),s("code",[a._v("SerialPort")]),a._v(" 的静态方法 "),s("code",[a._v("setLegacyUUID(uuid)")]),a._v(" 设置BLE设备的UUID：")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Kotlin"}},[s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[a._v("SerialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setLegacyUUID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0000ffe1-0000-1000-8000-00805f9b34fb"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Java"}},[s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SerialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Companion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setBleUUID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0000ffe1-0000-1000-8000-00805f9b34fb"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])],1),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),s("p",[a._v("BLE设备大多数情况下都需要设置UUID，具体的UUID可以查询手册或咨询卖家。")]),a._v(" "),s("p",[a._v("除此之外，也可以使用方法 "),s("code",[a._v("printPossibleBleUUID()")]),a._v(" 打印出可行的UUID，自行选择尝试：")]),a._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("printPossibleBleUUID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("h4",{attrs:{id:"建立连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#建立连接"}},[a._v("#")]),a._v(" 建立连接")]),a._v(" "),s("p",[a._v("使用方法 "),s("code",[a._v("openDiscoveryActivity()")]),a._v(" 打开内置的搜索页面选择设备进行连接：")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Kotlin"}},[s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("openDiscoveryActivity")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Java"}},[s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("openDiscoveryActivity")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])],1),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[s("strong",[a._v("不想使用内置的搜索页面怎么办？")])]),a._v(" "),s("p",[a._v("可以设置自定义的搜索页面或者直接使用设备地址进行连接。详见"),s("RouterLink",{attrs:{to:"/guide/discovery_connect.html#使用自定义的界面"}},[a._v("使用自定义的界面")])],1)]),a._v(" "),s("h3",{attrs:{id:"接收消息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接收消息"}},[a._v("#")]),a._v(" 接收消息")]),a._v(" "),s("p",[a._v("使用方法 "),s("code",[a._v("setReceivedDataCallback(receivedDataCallback)")]),a._v("  设置一个接收消息监听器：")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Kotlin"}},[s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setReceivedDataCallback")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("data")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Java"}},[s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setReceivedDataCallback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            \n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])])])],1),a._v(" "),s("p",[a._v("除此之外，你还可以在构建实例时配置监听器：")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Kotlin"}},[s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" serialPort "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" SerialPortBuilder\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setReceivedDataCallback")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("data")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Java"}},[s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SerialPort")]),a._v(" serialPort "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SerialPortBuilder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("INSTANCE\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setReceivedDataCallback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])])])],1),a._v(" "),s("h3",{attrs:{id:"发送消息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发送消息"}},[a._v("#")]),a._v(" 发送消息")]),a._v(" "),s("p",[a._v("使用方法 "),s("code",[a._v("sendData(data)")]),a._v(" 发送消息：")]),a._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Kotlin"}},[s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sendData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("Tab",{attrs:{label:"Java"}},[s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("serialPort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sendData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])],1),a._v(" "),s("p",[s("strong",[a._v("至此，你已经可以快速的开发一款能够完成基本收发数据的串口应用了。当然，"),s("code",[a._v("SerialPort")]),a._v(" 还有着更多的功能，请继续阅读说明文档。")])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);